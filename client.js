!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.braintree||(t.braintree={})).client=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return i(n?n:e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(n){"use strict";var r=e("./is-ie11");t.exports=function(e){return e=e||n.navigator.userAgent,-1!==e.indexOf("MSIE")||r(e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":2}],2:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,-1!==e.indexOf("Trident/7")}},{}],3:[function(e,t,n){"use strict";t.exports=function(e){return e=e||navigator.userAgent,-1!==e.indexOf("MSIE 9")}},{}],4:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}t.exports=r},{}],6:[function(e,t,n){"use strict";function r(e,t){return t?void e.then(function(e){t(null,e)})["catch"](function(e){t(e)}):e}t.exports=r},{}],7:[function(e,t,n){"use strict";function r(e){return function(){var t,n=Array.prototype.slice.call(arguments),r=n[n.length-1];return"function"==typeof r&&(t=n.pop(),t=o(i(t))),a(e.apply(this,n),t)}}var i=e("./lib/deferred"),o=e("./lib/once"),a=e("./lib/promise-or-callback");r.wrapPrototype=function(e,t){var n,i,o;return t=t||{},i=t.ignoreMethods||[],o=t.transformPrivateMethods===!0,n=Object.getOwnPropertyNames(e.prototype).filter(function(t){var n,r="constructor"!==t&&"function"==typeof e.prototype[t],a=-1===i.indexOf(t);return n=o?!0:"_"!==t.charAt(0),r&&n&&a}),n.forEach(function(t){var n=e.prototype[t];e.prototype[t]=r(n)}),e},t.exports=r},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(e,t,n){!function(e){function n(){}function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function o(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(i){return void s(t.promise,i)}a(t.promise,r)}))}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void d(r(n,t),e)}e._state=1,e._value=t,u(e)}catch(o){s(e,o)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(r){if(n)return;n=!0,s(t,r)}}var f=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new c(e,t,r)),r},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0===--i&&e(t)}catch(u){n(u)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this)},{}],9:[function(e,t,n){"use strict";var r=e("@braintree/browser-detection/is-ie"),i=e("@braintree/browser-detection/is-ie9");t.exports={isIe:r,isIe9:i}},{"@braintree/browser-detection/is-ie":1,"@braintree/browser-detection/is-ie9":3}],10:[function(e,t,n){"use strict";function r(e){var t,n,r;if(e=e||{},t=JSON.stringify(e),n=e.gatewayConfiguration,!n)throw new u(E.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(e){if(e in n&&!s(n[e]))throw new u({type:E.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:E.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(t)},this._request=a,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=n.clientApiUrl+"/v1/",r=n.braintreeApi,r&&(this._braintreeApi={baseUrl:r.url+"/",accessToken:r.accessToken},!s(this._braintreeApi.baseUrl)))throw new u({type:E.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:E.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"braintreeApi URL is on an invalid domain."});n.graphQL&&(this._graphQL=new o({graphQL:n.graphQL}))}function i(e,t){var n;return-1===e?n=new u(E.CLIENT_REQUEST_TIMEOUT):403===e?n=new u(E.CLIENT_AUTHORIZATION_INSUFFICIENT):429===e?n=new u(E.CLIENT_RATE_LIMITED):e>=500?n=new u(E.CLIENT_GATEWAY_NETWORK):(200>e||e>=400)&&(n=c(t,{type:E.CLIENT_REQUEST_ERROR.type,code:E.CLIENT_REQUEST_ERROR.code,message:E.CLIENT_REQUEST_ERROR.message})),n?(n.details=n.details||{},n.details.httpStatus=e,n):void 0}var o=e("./request/graphql"),a=e("./request"),s=e("../lib/is-whitelisted-domain"),u=e("../lib/braintree-error"),c=e("../lib/convert-to-braintree-error"),d=e("../lib/add-metadata"),f=e("../lib/promise"),p=e("../lib/once"),l=e("../lib/deferred"),h=e("../lib/assign").assign,y=e("../lib/analytics"),_=e("./constants"),E=e("./errors"),I=e("../lib/errors"),g=e("../lib/constants").VERSION;r.prototype.request=function(e,t){var n=this,r=new f(function(t,r){var o,a,s,c;if(e.method?e.endpoint||(o="options.endpoint"):o="options.method",o)throw new u({type:E.CLIENT_OPTION_REQUIRED.type,code:E.CLIENT_OPTION_REQUIRED.code,message:o+" is required when making a request."});if(a="api"in e?e.api:"clientApi",c={method:e.method,graphQL:n._graphQL,timeout:e.timeout},"clientApi"===a)s=n._clientApiBaseUrl,c.data=d(n._configuration,e.data);else{if("braintreeApi"!==a)throw new u({type:E.CLIENT_OPTION_INVALID.type,code:E.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});if(!n._braintreeApi)throw new u(I.BRAINTREE_API_ACCESS_RESTRICTED);s=n._braintreeApi.baseUrl,c.data=e.data,c.headers={"Braintree-Version":_.BRAINTREE_API_VERSION_HEADER,Authorization:"Bearer "+n._braintreeApi.accessToken}}c.url=s+e.endpoint,c.sendAnalyticsEvent=function(e){y.sendEvent(n,e)},n._request(c,function(e,n,o){var a,s;return(s=i(o,e))?void r(s):(a=h({_httpStatus:o},n),void t(a))})});return"function"==typeof t?(t=p(l(t)),void r.then(function(e){t(null,e,e._httpStatus)})["catch"](function(e){var n=e&&e.details&&e.details.httpStatus;t(e,null,n)})):r},r.prototype.toJSON=function(){return this.getConfiguration()},r.prototype.getVersion=function(){return g},t.exports=r},{"../lib/add-metadata":29,"../lib/analytics":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-to-braintree-error":34,"../lib/deferred":36,"../lib/errors":38,"../lib/is-whitelisted-domain":39,"../lib/once":41,"../lib/promise":42,"./constants":11,"./errors":12,"./request":23,"./request/graphql":21}],11:[function(e,t,n){"use strict";t.exports={BRAINTREE_API_VERSION_HEADER:"2017-04-03"}},{}],12:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:r.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:r.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:r.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:r.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:r.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:r.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:r.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":32}],13:[function(e,t,n){(function(n){"use strict";function r(e){return new o(function(t,r){var o,a,p,l,h=u(),y={merchantAppId:n.location.host,platform:c.PLATFORM,sdkVersion:c.VERSION,source:c.SOURCE,integration:c.INTEGRATION,integrationType:c.INTEGRATION,sessionId:h};try{a=d(e.authorization)}catch(_){return void r(new i(f.CLIENT_INVALID_AUTHORIZATION))}p=a.attrs,l=a.configUrl,p._meta=y,p.braintreeLibraryVersion=c.BRAINTREE_LIBRARY_VERSION,p.configVersion="3",s({url:l,method:"GET",data:p},function(n,a,s){var u;return n?(u=403===s?f.CLIENT_AUTHORIZATION_INSUFFICIENT:f.CLIENT_GATEWAY_NETWORK,void r(new i({type:u.type,code:u.code,message:u.message,details:{originalError:n}}))):(o={authorization:e.authorization,authorizationType:p.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",analyticsMetadata:y,gatewayConfiguration:a},void t(o))})})}var i=e("../lib/braintree-error"),o=e("../lib/promise"),a=e("@braintree/wrap-promise"),s=e("./request"),u=e("../lib/vendor/uuid"),c=e("../lib/constants"),d=e("../lib/create-authorization-data"),f=e("./errors");t.exports={getConfiguration:a(r)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/create-authorization-data":35,"../lib/promise":42,"../lib/vendor/uuid":45,"./errors":12,"./request":23,"@braintree/wrap-promise":7}],14:[function(e,t,n){"use strict";function r(e){return e.authorization?p[e.authorization]?c.resolve(p[e.authorization]):s(e).then(function(t){var n;return e.debug&&(t.isDebug=!0),n=new a(t),p[e.authorization]=n,n}):c.reject(new o({type:f.INSTANTIATION_OPTION_REQUIRED.type,code:f.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}function i(){p={}}var o=e("../lib/braintree-error"),a=e("./client"),s=e("./get-configuration").getConfiguration,u="3.27.0",c=e("../lib/promise"),d=e("@braintree/wrap-promise"),f=e("../lib/errors"),p={};t.exports={create:d(r),VERSION:u,_clearCache:i}},{"../lib/braintree-error":32,"../lib/errors":38,"../lib/promise":42,"./client":10,"./get-configuration":13,"@braintree/wrap-promise":7}],15:[function(e,t,n){"use strict";function r(e){return(!e||e===E)&&u.isIe()}function i(e){var t=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorType;return"unknown_error"===t}function o(e,t,n){var a,u,E,I,g,T,N,m=e.url,b=e.graphQL,A=e.timeout,v=p.getRequestObject(),R=n,C=Boolean(b&&b.isGraphQLRequest(m,e.data));e.headers=c({"Content-Type":"application/json"},e.headers),E=C?new h(e):new y(e),m=E.getUrl(),I=E.getBody(),g=E.getMethod(),T=E.getHeaders(),"GET"===g&&(m=s.queryify(m,I),I=null),l?v.onreadystatechange=function(){if(4===v.readyState){if(0===v.status&&C)return delete e.graphQL,void o(e,t,n);if(N=f(v.responseText),u=E.adaptResponseBody(N),a=E.determineStatus(v.status,N),a>=400||200>a){if(C&&i(N))return delete e.graphQL,void o(e,t,n);if(_>t&&r(a))return t++,void o(e,t,n);R(u||"error",null,a||500)}else R(null,u,a)}}:(e.headers&&(m=s.queryify(m,T)),v.onload=function(){R(null,f(v.responseText),v.status)},v.onerror=function(){R("error",null,500)},v.onprogress=function(){},v.ontimeout=function(){R("timeout",null,-1)});try{v.open(g,m,!0)}catch(O){if(!C)throw O;return delete e.graphQL,void o(e,t,n)}v.timeout=A,l&&Object.keys(T).forEach(function(e){v.setRequestHeader(e,T[e])});try{v.send(d(g,I))}catch(w){}}function a(e,t){o(e,0,t)}var s=e("../../lib/querystring"),u=e("../browser-detection"),c=e("../../lib/assign").assign,d=e("./prep-body"),f=e("./parse-body"),p=e("./xhr"),l=p.isAvailable,h=e("./graphql/request"),y=e("./default-request"),_=1,E=408;t.exports={request:a}},{"../../lib/assign":31,"../../lib/querystring":43,"../browser-detection":9,"./default-request":16,"./graphql/request":22,"./parse-body":26,"./prep-body":27,"./xhr":28}],16:[function(e,t,n){"use strict";function r(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}r.prototype.getUrl=function(){return this._url},r.prototype.getBody=function(){return this._data},r.prototype.getMethod=function(){return this._method},r.prototype.getHeaders=function(){return this._headers},r.prototype.adaptResponseBody=function(e){return e},r.prototype.determineStatus=function(e){return e},t.exports=r},{}],17:[function(e,t,n){(function(e){"use strict";t.exports=function(){return e.navigator.userAgent}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){"use strict";function r(e){var t;return e.data&&!e.errors?e.data.tokenizeCreditCard?t=i(e):e.data.tokenizeCvv&&(t=o(e)):t=a(e),t}function i(e){var t=e.data.tokenizeCreditCard,n=t.creditCard,r=n.last4.substr(2,4),i={creditCards:[{binData:n.binData,consumed:!1,description:"ending in "+r,nonce:t.token,details:{cardType:n.brand,lastFour:n.last4,lastTwo:r},type:"CreditCard",threeDSecureInfo:null}]};return i}function o(e){var t=e.data.tokenizeCvv,n={creditCards:[{consumed:!1,description:"",nonce:t.token,details:{cardType:"Unknown",lastFour:"",lastTwo:""},type:"CreditCard",threeDSecureInfo:null}]};return n}var a=e("./error");t.exports=r},{"./error":19}],19:[function(e,t,n){"use strict";function r(e){var t,n=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorType;return t="user_error"===n?o(e):n?i(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}function i(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}function o(e){var t=e.errors[0],n=t.extensions.legacyMessage,r=t.extensions.errorDetails,i=a(r);return{error:{message:n},fieldErrors:i}}function a(e){var t=[];return e.forEach(function(e){s(e.inputPath.slice(1),e,t)}),t}function s(e,t,n){var r,i=t.legacyCode,o=e[0];return 1===e.length?void n.push({code:i,field:o,message:t.message}):(n.forEach(function(e){e.field===o&&(r=e)}),r||(r={field:o,fieldErrors:[]},n.push(r)),void s(e.slice(1),t,r.fieldErrors))}t.exports=r},{}],20:[function(e,t,n){"use strict";function r(e){var t=e.creditCard,n=t&&t.billingAddress,r=t&&t.expirationDate,o=t&&(t.expirationMonth||r&&r.split("/")[0].trim()),a=t&&(t.expirationYear||r&&r.split("/")[1].trim()),s={input:{creditCard:{number:t&&t.number,expirationMonth:o,expirationYear:a,cvv:t&&t.cvv,cardholderName:t&&t.cardholderName},options:{}}};return n&&(s.input.creditCard.billingAddress=n),s.input=i(e,s.input),s}function i(e,t){var n;return e.creditCard&&e.creditCard.options&&"boolean"==typeof e.creditCard.options.validate?n=e.creditCard.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizationFingerprint?n=!0:e.tokenizationKey&&(n=!1),"boolean"==typeof n&&(t.options=s({validate:n},t.options)),t}function o(e){var t={input:{cvv:e.creditCard&&e.creditCard.cvv}};return t}function a(e){var t,n,i;return e.creditCard&&!e.creditCard.number&&e.creditCard.cvv?(t=c,n=o(e),i="TokenizeCvv"):(t=u,n=r(e),i="TokenizeCreditCard"),JSON.stringify({query:t,variables:n,operationName:i})}var s=e("../../../../lib/assign").assign,u="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!) {   tokenizeCreditCard(input: $input) {     token     creditCard {       brand       last4       binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     }   } }",c="mutation TokenizeCvv($input: TokenizeCvvInput!) {   tokenizeCvv(input: $input) {     token  } }";t.exports=a},{"../../../../lib/assign":31}],21:[function(e,t,n){"use strict";function r(e){this._config=e.graphQL}function i(e){return s.some(function(t){var n=t.split(".").reduce(function(e,t){return e&&e[t]},e);return void 0!==n})}var o=e("../../browser-detection"),a={tokenize_credit_cards:"payment_methods/credit_cards"},s=["creditCard.options.unionPayEnrollment"];r.prototype.getGraphQLEndpoint=function(){return this._config.url},r.prototype.isGraphQLRequest=function(e,t){var n,r=this.getClientApiPath(e);return this._isGraphQLEnabled()&&r&&!o.isIe9()?(n=this._config.features.some(function(e){return a[e]===r}),i(t)?!1:n):!1},r.prototype.getClientApiPath=function(e){var t,n="/client_api/v1/",r=e.split(n);return r.length>1&&(t=r[1].split("?")[0]),t},r.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},t.exports=r},{"../../browser-detection":9}],22:[function(e,t,n){"use strict";function r(e){var t=e.graphQL.getClientApiPath(e.url);this._graphQL=e.graphQL,this._data=e.data,this._method=e.method,this._headers=e.headers,this._sendAnalyticsEvent=e.sendAnalyticsEvent||Function.prototype,this._generator=f[t],this._adapter=p[t],this._sendAnalyticsEvent("graphql.init")}function i(e,t){return!e&&t.errors[0].message}function o(e){return-1===e.indexOf("_")?e:e.toLowerCase().replace(/(\_\w)/g,function(e){return e[1].toUpperCase()})}function a(e){var t={};return Object.keys(e).forEach(function(n){var r=o(n);"object"==typeof e[n]?t[r]=a(e[n]):"number"==typeof e[n]?t[r]=String(e[n]):t[r]=e[n]}),t}var s="2017-12-15",u=e("../../../lib/assign").assign,c=e("./generators/credit-card-tokenization"),d=e("./adapters/credit-card-tokenization"),f={"payment_methods/credit_cards":c},p={"payment_methods/credit_cards":d};r.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},r.prototype.getBody=function(){var e=a(this._data);return this._generator(e)},r.prototype.getMethod=function(){return"POST"},r.prototype.getHeaders=function(){var e,t;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),e=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),e=this._data.tokenizationKey),t={Authorization:"Bearer "+e,"Braintree-Version":s},u({},this._headers,t)},r.prototype.adaptResponseBody=function(e){return this._adapter(e)},r.prototype.determineStatus=function(e,t){var n,r;return 200===e?(r=t.errors&&t.errors[0]&&t.errors[0].extensions&&t.errors[0].extensions.errorType,n=t.data&&!t.errors?200:"user_error"===r?422:"developer_error"===r?403:"unknown_error"===r?500:i(r,t)?403:500):n=e?e:500,this._sendAnalyticsEvent("graphql.status."+e),this._sendAnalyticsEvent("graphql.determinedStatus."+n),n},t.exports=r},{"../../../lib/assign":31,"./adapters/credit-card-tokenization":18,"./generators/credit-card-tokenization":20}],23:[function(e,t,n){"use strict";function r(){return null==i&&(i=!(c()&&/MSIE\s(8|9)/.test(u()))),i}var i,o=e("../../lib/once"),a=e("./jsonp-driver"),s=e("./ajax-driver"),u=e("./get-user-agent"),c=e("./is-http");t.exports=function(e,t){t=o(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},r()?s.request(e,t):a.request(e,t)}},{"../../lib/once":41,"./ajax-driver":15,"./get-user-agent":17,"./is-http":24,"./jsonp-driver":25}],24:[function(e,t,n){(function(e){"use strict";t.exports=function(){return"http:"===e.location.protocol}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){(function(n){"use strict";function r(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function i(e,t){var r=document.createElement("script"),i=!1;return r.src=e,r.async=!0,r.onerror=function(){n[t]({message:"error",status:500})},r.onload=r.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,r.onload=r.onreadystatechange=null)},r}function o(e){try{delete n[e]}catch(t){n[e]=null}}function a(e,t){p[t]=setTimeout(function(){p[t]=null,n[t]({error:"timeout",status:-1}),n[t]=function(){o(t)}},e)}function s(e,t,i){n[i]=function(n){var a=n.status||500,s=null,u=null;delete n.status,a>=400||200>a?s=n:u=n,o(i),r(e),clearTimeout(p[i]),t(s,u,a)}}function u(e,t){var n,r="callback_json_"+d().replace(/-/g,""),o=e.url,u=e.data,p=e.method,l=e.timeout;o=f.queryify(o,u),o=f.queryify(o,{_method:p,callback:r}),n=i(o,r),s(n,t,r),a(l,r),c||(c=document.getElementsByTagName("head")[0]),c.appendChild(n)}var c,d=e("../../lib/vendor/uuid"),f=e("../../lib/querystring"),p={};t.exports={request:u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":43,"../../lib/vendor/uuid":45}],26:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(t){}return e}},{}],27:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],28:[function(e,t,n){(function(e){"use strict";function n(){return r?new XMLHttpRequest:new XDomainRequest}var r=e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest;t.exports={isAvailable:r,getRequestObject:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,n){"use strict";function r(e,t){var n,r=t?o(t):{},s=i(e.authorization).attrs,u=o(e.analyticsMetadata);r.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION;for(n in r._meta)r._meta.hasOwnProperty(n)&&(u[n]=r._meta[n]);return r._meta=u,s.tokenizationKey?r.tokenizationKey=s.tokenizationKey:r.authorizationFingerprint=s.authorizationFingerprint,r}var i=e("./create-authorization-data"),o=e("./json-clone"),a=e("./constants");t.exports=r},{"./constants":33,"./create-authorization-data":35,"./json-clone":40}],30:[function(e,t,n){"use strict";function r(e){return Math.floor(e/1e3)}function i(e,t,n){var i=e.getConfiguration(),s=e._request,u=r(Date.now()),c=i.gatewayConfiguration.analytics.url,d={analytics:[{kind:o.ANALYTICS_PREFIX+t,timestamp:u}]};s({url:c,method:"post",data:a(i,d),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},n)}var o=e("./constants"),a=e("./add-metadata");t.exports={sendEvent:i}},{"./add-metadata":29,"./constants":33}],31:[function(e,t,n){"use strict";function r(e){var t,n,r;for(t=1;t<arguments.length;t++){n=arguments[t];for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}var i="function"==typeof Object.assign?Object.assign:r;t.exports={assign:i,_assign:r}},{}],32:[function(e,t,n){"use strict";function r(e){if(!r.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}var i=e("./enumerate");r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.types=i(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),r.findRootError=function(e){return e instanceof r&&e.details&&e.details.originalError?r.findRootError(e.details.originalError):e},t.exports=r},{"./enumerate":37}],33:[function(e,t,n){"use strict";var r="3.27.0",i="web";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+r}},{}],34:[function(e,t,n){"use strict";function r(e,t){return e instanceof i?e:new i({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}var i=e("./braintree-error");t.exports=r},{"./braintree-error":32}],35:[function(e,t,n){"use strict";function r(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function i(e){var t=e.split("_"),n=t[0],r=t.slice(2).join("_");return{merchantId:r,environment:n}}function o(e){var t,n,o={attrs:{},configUrl:""};return r(e)?(n=i(e),o.attrs.tokenizationKey=e,o.configUrl=s[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(a(e)),o.attrs.authorizationFingerprint=t.authorizationFingerprint,o.configUrl=t.configUrl),o}var a=e("../lib/vendor/polyfill").atob,s={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"};t.exports=o},{"../lib/vendor/polyfill":44}],36:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],37:[function(e,t,n){"use strict";function r(e,t){return t=null==t?"":t,e.reduce(function(e,n){return e[n]=t+n,e},{})}t.exports=r},{}],38:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},CALLBACK_REQUIRED:{type:r.types.MERCHANT,code:"CALLBACK_REQUIRED"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INVALID_OPTION:{type:r.types.MERCHANT,code:"INVALID_OPTION"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:r.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":32}],39:[function(e,t,n){"use strict";function r(e){return e.split(".").slice(-2).join(".")}function i(e){var t;return e=e.toLowerCase(),/^https:/.test(e)?(o=o||document.createElement("a"),o.href=e,t=r(o.hostname),a.hasOwnProperty(t)):!1}var o,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=i},{}],40:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],41:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{dup:5}],42:[function(e,t,n){(function(n){"use strict";var r=n.Promise||e("promise-polyfill");t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":8}],43:[function(e,t,n){(function(e){"use strict";function n(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function i(t){var n,r;return t=t||e.location.href,/\?/.test(t)?(n=t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&"),r=n.reduce(function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]);return e[r]=i,e},{})):{}}function o(e,t){var n,i,a,s=[];for(a in e)e.hasOwnProperty(a)&&(i=e[a],n=t?r(e)?t+"[]":t+"["+a+"]":a,"object"==typeof i?s.push(o(i,n)):s.push(encodeURIComponent(n)+"="+encodeURIComponent(i)));return s.join("&")}function a(e,t){return e=e||"",null!=t&&"object"==typeof t&&n(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=o(t)),e}t.exports={parse:i,stringify:o,queryify:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){(function(e){"use strict";function n(e){var t,n,r,i,o,a,s,u,c=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";if(!c.test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");u=0;do i=d.indexOf(e.charAt(u++)),o=d.indexOf(e.charAt(u++)),a=d.indexOf(e.charAt(u++)),s=d.indexOf(e.charAt(u++)),t=(63&i)<<2|o>>4&3,n=(15&o)<<4|a>>2&15,r=(3&a)<<6|63&s,f+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(r?String.fromCharCode(r):"");while(u<e.length);return f}var r="function"==typeof e.atob?e.atob:n;t.exports={atob:function(t){return r.call(e,t)},_atob:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}t.exports=r},{}]},{},[14])(14)});